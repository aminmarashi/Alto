var LOCALES=["es","pt"];!function(O,p){"use strict";var n,a,B,i,c="commento",m="commento-main-area",l="commento-login",T="commento-login-box-container",H="commento-login-box",C="commento-login-box-email-subtitle",N="commento-login-box-email-input",v="commento-login-box-password-input",f="commento-login-box-name-input",h="commento-login-box-website-input",L="commento-login-box-email-button",S="commento-login-box-forgot-link-container",A="commento-login-box-login-link-container",M="commento-login-box-sso-pretext",E="commento-login-box-sso-buttton-container",R="commento-login-box-hr1",D="commento-login-box-oauth-pretext",I="commento-login-box-oauth-buttons-container",U="commento-login-box-hr2",r="commento-mod-tools",t="commento-mod-tools-lock-button",d="commento-error",s="commento-logged-container",u="commento-comments-area",k="commento-textarea-super-container-",g="commento-notice-container",x="commento-textarea-container-",b="commento-textarea-",w="commento-anonymous-checkbox-",y="commento-guest-details-",P="commento-guest-details-input-",V="commento-sort-policy-",z="commento-comment-card-",j="commento-comment-body-",q="commento-comment-text-",Y="commento-comment-subtitle-",_="commento-comment-timeago-",W="commento-comment-score-",F="commento-comment-options-",X="commento-comment-edit-",G="commento-comment-reply-",J="commento-comment-collapse-",K="commento-comment-upvote-",$="commento-comment-downvote-",Q="commento-comment-approve-",Z="commento-comment-remove-",ee="commento-comment-sticky-",oe="commento-comment-children-",te="commento-comment-contents-",ne="commento-comment-name-",ie="commento-submit-button-",re="commento-markdown-button-",ae="commento-markdown-help-",e=!1,ce=window.document.title,me="https://comment.amin.codes",le="https://comment.amin.codes",de=null,se=parent.location.pathname,ue=!1,pe=!1,ve=!1,fe=!0,he=[],ge=[],xe={},be={},we={},ye=!0,ke=!1,Te=!1,He=!1,Ce="none",Ne={},Le={},Se={},Ae={},Me=!1,Ee="login",Oe=!1,Be="score-desc",Re=void 0,De=null,Ie=navigator&&navigator.language,Ue=O.strings||{};function Pe(e){return p.getElementById(e)}function Ve(e,o){e.appendChild(o)}function ze(e,o){e.classList.add("commento-"+o)}function je(e,o){null!==e&&e.classList.remove("commento-"+o)}function qe(e){return p.createElement(e)}function Ye(e){null!==e&&e.parentNode.removeChild(e)}function _e(e,o){o=e.attributes[o];if(void 0!==o)return o.value}function We(e){if(null!==e){var o=e.cloneNode(!0);if(null!==e.parentNode)return e.parentNode.replaceChild(o,e),o}return e}function Fe(e,o,t){e.addEventListener("click",function(){o(t)},!1)}function Xe(e,o,t){e.addEventListener("keypress",function(e){"Enter"===e.key&&o(t)},!1)}function Ge(e,o,t){e.setAttribute(o,t)}function Je(e,o,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){t(JSON.parse(n.response))},n.send(JSON.stringify(o))}function Ke(e,o){var t=new XMLHttpRequest;t.open("GET",e,!0),t.onload=function(){o(JSON.parse(t.response))},t.send(null)}function $e(e){"function"==typeof e&&e()}function Qe(e,o){var t,n=new Date;n.setTime(n.getTime()+31536e6),t="; expires="+n.toUTCString(),p.cookie=e+"="+o+t+"; path=/"}function Ze(e){return e in Ue?Ue[e]:e}function eo(){var e=function(e){if(2===(e=("; "+p.cookie).split("; "+e+"=")).length)return e.pop().split(";").shift()}("commentoCommenterToken");return void 0===e?"anonymous":e}function oo(){window.open(me+"/profile?commenterToken="+eo(),"_blank")}function to(e){window.open(me+"/unsubscribe?unsubscribeSecretHex="+e,"_blank")}function no(e,o){we[e.commenterHex]=e,Re=e.commenterHex;var t,n,i=qe("div"),r=qe("div");"undefined"!==e.link?((t=qe("a")).target="_blank",t.rel="nofollow noopener"):t=qe("div");var a=qe("div"),c=qe("div"),m=qe("div"),l=bo(e.commenterHex+"-"+e.name);i.id=s,ze(i,"logged-container"),ze(r,"logged-in-as"),ze(t,"name"),ze(a,"profile-button"),ze(c,"profile-button"),ze(m,"profile-button"),t.innerText=e.name,a.innerHTML='<svg width="20px" height="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><path d="M467.812,431.851l-36.629-61.056c-16.917-28.181-25.856-60.459-25.856-93.312V224c0-67.52-45.056-124.629-106.667-143.04V42.667C298.66,19.136,279.524,0,255.993,0s-42.667,19.136-42.667,42.667V80.96C151.716,99.371,106.66,156.48,106.66,224v53.483c0,32.853-8.939,65.109-25.835,93.291l-36.629,61.056c-1.984,3.307-2.027,7.403-0.128,10.752c1.899,3.349,5.419,5.419,9.259,5.419H458.66c3.84,0,7.381-2.069,9.28-5.397C469.839,439.275,469.775,435.136,467.812,431.851z"/></g></g><g><g><path d="M188.815,469.333C200.847,494.464,226.319,512,255.993,512s55.147-17.536,67.179-42.667H188.815z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',c.innerHTML='<svg width="20px" height="20px" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m22.683 9.394-1.88-.239c-.155-.477-.346-.937-.569-1.374l1.161-1.495c.47-.605.415-1.459-.122-1.979l-1.575-1.575c-.525-.542-1.379-.596-1.985-.127l-1.493 1.161c-.437-.223-.897-.414-1.375-.569l-.239-1.877c-.09-.753-.729-1.32-1.486-1.32h-2.24c-.757 0-1.396.567-1.486 1.317l-.239 1.88c-.478.155-.938.345-1.375.569l-1.494-1.161c-.604-.469-1.458-.415-1.979.122l-1.575 1.574c-.542.526-.597 1.38-.127 1.986l1.161 1.494c-.224.437-.414.897-.569 1.374l-1.877.239c-.753.09-1.32.729-1.32 1.486v2.24c0 .757.567 1.396 1.317 1.486l1.88.239c.155.477.346.937.569 1.374l-1.161 1.495c-.47.605-.415 1.459.122 1.979l1.575 1.575c.526.541 1.379.595 1.985.126l1.494-1.161c.437.224.897.415 1.374.569l.239 1.876c.09.755.729 1.322 1.486 1.322h2.24c.757 0 1.396-.567 1.486-1.317l.239-1.88c.477-.155.937-.346 1.374-.569l1.495 1.161c.605.47 1.459.415 1.979-.122l1.575-1.575c.542-.526.597-1.379.127-1.985l-1.161-1.494c.224-.437.415-.897.569-1.374l1.876-.239c.753-.09 1.32-.729 1.32-1.486v-2.24c.001-.757-.566-1.396-1.316-1.486zm-10.683 7.606c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"/></svg>',m.innerHTML='<svg viewBox="0 0 512.00533 512" width="20px" height="20px" xmlns="http://www.w3.org/2000/svg"><path d="m320 277.335938c-11.796875 0-21.332031 9.558593-21.332031 21.332031v85.335937c0 11.753906-9.558594 21.332032-21.335938 21.332032h-64v-320c0-18.21875-11.605469-34.496094-29.054687-40.554688l-6.316406-2.113281h99.371093c11.777344 0 21.335938 9.578125 21.335938 21.335937v64c0 11.773438 9.535156 21.332032 21.332031 21.332032s21.332031-9.558594 21.332031-21.332032v-64c0-35.285156-28.714843-63.99999975-64-63.99999975h-229.332031c-.8125 0-1.492188.36328175-2.28125.46874975-1.027344-.085937-2.007812-.46874975-3.050781-.46874975-23.53125 0-42.667969 19.13281275-42.667969 42.66406275v384c0 18.21875 11.605469 34.496093 29.054688 40.554687l128.386718 42.796875c4.351563 1.34375 8.679688 1.984375 13.226563 1.984375 23.53125 0 42.664062-19.136718 42.664062-42.667968v-21.332032h64c35.285157 0 64-28.714844 64-64v-85.335937c0-11.773438-9.535156-21.332031-21.332031-21.332031zm0 0"/><path d="m505.75 198.253906-85.335938-85.332031c-6.097656-6.101563-15.273437-7.9375-23.25-4.632813-7.957031 3.308594-13.164062 11.09375-13.164062 19.714844v64h-85.332031c-11.777344 0-21.335938 9.554688-21.335938 21.332032 0 11.777343 9.558594 21.332031 21.335938 21.332031h85.332031v64c0 8.621093 5.207031 16.40625 13.164062 19.714843 7.976563 3.304688 17.152344 1.46875 23.25-4.628906l85.335938-85.335937c8.339844-8.339844 8.339844-21.824219 0-30.164063zm0 0"/></svg>',Fe(m,O.logout),Fe(a,to,o.unsubscribeSecretHex),Fe(c,oo),Ge(i,"style","display: none"),"undefined"!==e.link&&Ge(t,"href",e.link),"undefined"===e.photo?((n=qe("div")).style.background=l,n.innerHTML=e.name[0].toUpperCase(),ze(n,"avatar")):(Ge(n=qe("img"),"src",le+"/api/commenter/photo?commenterHex="+e.commenterHex),Ge(n,"loading","lazy"),ze(n,"avatar-img")),Ve(r,n),Ve(r,t),Ve(i,r),Ve(i,m),"commento"===e.provider&&Ve(i,c),Ve(i,a),i=i,de.prepend(i),ve=!0}function io(o){if("anonymous"===eo())return ve=!1,void $e(o);var e={commenterToken:eo()};Je(me+"/api/commenter/self",e,function(e){return e.success?(no(e.commenter,e.email),Ro()):Qe("commentoCommenterToken","anonymous"),void $e(o)})}function ro(e,o){var t,n,i=qe("link"),r=p.getElementsByTagName("head")[0];i.type="text/css",Ge(i,"href",e),Ge(i,"rel","stylesheet"),t=o,i.addEventListener("load",function(){t(n)}),Ve(r,i)}function ao(r,a){var e={commenterToken:eo(),domain:parent.location.host,path:se};Je(me+"/api/comment/list",e,function(e){if(!a){if(!e.success)return void co(e.message,!0);mo(),Be=e.defaultSortPolicy}ye=e.requireIdentification,ke=e.isModerator,Te=e.isFrozen,He=e.attributes.isLocked,Ce=e.attributes.stickyCommentHex;var o=[];for(n in he)o.push(he[n].commentHex);if(he=e.comments,!fe)for(var t in he)-1===o.indexOf(he[t].commentHex)&&(xe[he[t].commentHex]=!0);for(var n=ge.length;n--;)for(var t in he)if(he[t].commentHex===ge[n].commentHex){ge.splice(n,1),xe[he[t].commentHex]=!0;break}he=he.concat(ge),be=Co(he),we=Object.assign({},we,e.commenters),Ae=e.configuredOauths;var i=Pe(".commento-card");if(i)for(var n in i)removeClass(i[n],"highlight");fe=!1,$e(r)})}function co(e,o){var t;""!==e&&(t=xo(e),o?Ve(Pe(c),t):(Ve(Pe(g),t),setTimeout(function(){t.remove()},5e3)))}function mo(){Ge(Pe(d),"style","display: none;")}function lo(e){var o=Pe(k+e),t=Pe(re+e),n=qe("table"),i=qe("tr"),r=qe("td"),a=qe("td"),c=qe("tr"),m=qe("td"),l=qe("td"),d=qe("tr"),s=qe("td"),u=qe("td"),p=qe("tr"),v=qe("td"),f=qe("td"),h=qe("tr"),g=qe("td"),x=qe("td"),b=qe("tr"),w=qe("td"),y=qe("td");n.id=ae+e,ze(n,"markdown-help"),m.innerHTML=Ze("<b>bold</b>"),l.innerHTML=Ze("surround text with <pre>**two asterisks**</pre>"),r.innerHTML=Ze("<i>italics</i>"),a.innerHTML=Ze("surround text with <pre>*asterisks*</pre>"),s.innerHTML=Ze("<pre>code</pre>"),u.innerHTML=Ze("surround text with <pre>`backticks`</pre>"),v.innerHTML=Ze("<strike>strikethrough</strike>"),f.innerHTML=Ze("surround text with <pre>~~two tilde characters~~</pre>"),g.innerHTML=Ze('<a href="https://example.com">hyperlink</a>'),x.innerHTML=Ze("<pre>[link](https://example.com)</pre> or just a bare URL"),w.innerHTML=Ze("<blockquote>quote</blockquote>"),y.innerHTML=Ze("prefix with <pre>&gt;</pre>"),Fe(We(t),so,e),Ve(i,r),Ve(i,a),Ve(n,i),Ve(c,m),Ve(c,l),Ve(n,c),Ve(h,g),Ve(h,x),Ve(n,h),Ve(d,s),Ve(d,u),Ve(n,d),Ve(p,v),Ve(p,f),Ve(n,p),Ve(b,w),Ve(b,y),Ve(n,b),Ve(o,n)}function so(e){var o=Pe(re+e),t=Pe(ae+e);Fe(o=We(o),lo,e),Ye(t)}function uo(e){var o=Pe(y+e),e=Pe(w+e);ve||(e.checked?ze:je)(o,"make-invisible")}function po(){for(var e=p.getElementsByClassName("commento-guest-details-container"),o=0;o<e.length;o++)ze(e[o],"make-invisible")}function vo(o,t){var e,n=qe("div"),i=qe("div"),r=qe("textarea"),a=qe("div"),c=qe("input"),m=qe("label"),l=qe("button"),d=qe("a"),s=qe("div"),u=qe("input"),p=qe("br");return n.id=k+o,i.id=x+o,r.id=b+o,s.id=y+o,u.id=P+o,c.id=w+o,l.id=ie+o,d.id=re+o,ze(i,"textarea-container"),ze(a,"round-check"),ze(a,"anonymous-checkbox-container"),ze(l,"button"),ze(l,"submit-button"),ze(d,"markdown-button"),ze(n,"button-margin"),ze(u,"guest-details"),ze(s,"guest-details-container"),ze(p,"clear"),Ge(r,"placeholder",Ze("Add a comment")),Ge(c,"type","checkbox"),Ge(m,"for",w+o),Ge(u,"type","text"),Ge(u,"placeholder",Ze("Your Name")),m.innerText=Ze("Comment anonymously"),l.innerText=Ze(!0===t?"Save Changes":"Add Comment"),d.innerHTML=Ze("<b>M &#8595;</b> &nbsp; Markdown Help?"),Me&&(c.checked=!0,c.setAttribute("disabled",!0)),Fe(c,uo,o),ve&&ze(s,"make-invisible"),r.oninput=(e=r,function(){e.style.height="",e.style.height=Math.min(Math.max(e.scrollHeight,75),400)+"px"}),r.onkeydown=function(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&(!0===t?Ho:Ao)(o)},Fe(l,!0===t?Ho:Ao,o),Fe(d,lo,o),Ve(i,r),Ve(n,i),Ve(n,s),Ve(a,c),Ve(a,m),Ve(n,l),ye||!0===t||(Ve(n,a),Ve(s,u)),Ve(n,d),Ve(n,p),n}O.logout=function(){Qe("commentoCommenterToken","anonymous"),ke=ve=!1,Re=void 0,o()};var fo={"score-desc":Ze("Upvotes"),"creationdate-desc":Ze("Newest"),"creationdate-asc":Ze("Oldest")};function ho(e){je(Pe(V+Be),"sort-policy-button-selected");var o=Pe(u);Be=e;var t=ko(be,"root");t&&Lo(o,t),ze(Pe(V+e),"sort-policy-button-selected")}function go(e){var o=qe("div"),t=qe("div"),n=Pe(m),i=qe("div"),r=qe("div");o.id=l,i.id=g,r.id=u,Ve(n,i),ze(o,"login"),ze(t,"login-text"),ze(r,"comments"),t.innerText=Ze("Login"),r.innerHTML="",Fe(t,O.loginBoxShow,null);var a=0;Object.keys(Ae).forEach(function(e){Ae[e]&&a++}),0<a?Ve(o,t):ye||(Me=!0),ve?Ye(Pe(l)):Ve(n,o),Ve(n,He?xo(Ze("This thread is locked. You cannot add new comments.")):Te?xo(Ze("This domain is frozen. Comments have been disabled.")):vo("root")),0<he.length&&Ve(n,function(){var e,o=qe("div"),t=qe("div");for(e in ze(o,"sort-policy-buttons-container"),ze(t,"sort-policy-buttons"),fo){var n=qe("a");n.id=V+e,ze(n,"sort-policy-button"),e===Be&&ze(n,"sort-policy-button-selected"),n.innerText=fo[e],Fe(n,ho,e),Ve(t,n)}return Ve(o,t),o}()),Ve(n,r),Ve(de,n),$e(e)}function xo(e){var o=qe("div");return ze(o,"moderation-notice"),o.innerText=e,o}function bo(e){for(var o=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n);return o[t%o.length]}function wo(e){return 1!==e?e+Ze(" points"):e+Ze(" point")}O.commentNew=function(t,n,i){var r,e,a=Pe(k+t),c=Pe(b+t),m=Pe(G+t),l=c.value;Pe(ie+t).disabled=!0,""!==l?(je(c,"red-border"),r="",!Pe(P+t)||ye||Pe(w+t).checked||(r=Pe(P+t).value),e={commenterToken:n,anonName:r,domain:parent.location.host,path:se,parentHex:t,markdown:l},Je(me+"/api/comment/new",e,function(e){var o;Pe(ie+t).disabled=!1,e.success?(mo(),o="","unapproved"===e.state?o=Ze("Your comment is under moderation."):"flagged"===e.state&&(o=Ze("Your comment was flagged as spam and is under moderation.")),""!==o&&co(o),"anonymous"===(o=void 0===(o=Re)||"anonymous"===n?"anonymous":o)&&!Pe(w+t).checked&&Pe(P+t)&&0<Pe(P+t).value.trim().length&&(we[o=t]={provider:"anon",name:r,photo:"undefined",link:""}),o={commentHex:e.commentHex,commenterHex:o,markdown:l,html:e.html,parentHex:t,score:0,state:"approved",direction:0,creationDate:new Date},"unapproved"===e.state&&(o.state="pending"),he.push(o),ge.push(o),xe[e.commentHex]=!0,be=Co(he),"root"!==t?(a.remove(),delete Ne[t],ze(m,"option-reply"),je(m,"option-cancel"),m.title=Ze("Reply to this comment"),Fe(m,O.replyShow,t)):c.value="",No(),o=Pe(z+e.commentHex).getBoundingClientRect().top+window.pageYOffset-40,window.scrollTo({top:o,behavior:"smooth"}),$e(i)):co(e.message)})):ze(c,"red-border")};var yo={"score-desc":function(e,o){return o.score-e.score},"creationdate-desc":function(e,o){return e.creationDate<o.creationDate?1:-1},"creationdate-asc":function(e,o){return e.creationDate<o.creationDate?-1:1}};function ko(S,A){var e=S[A];if(!e||!e.length)return null;e.sort(function(e,o){return e.deleted||e.commentHex!==Ce?o.deleted||o.commentHex!==Ce?yo[Be](e,o):1/0:-1/0});var M=(new Date).getTime(),E=qe("div");return e.forEach(function(e){var o,t,n,i,r,a=we[e.commenterHex],c=qe("div"),m=qe("div"),l=qe("div"),d=qe("div"),s=qe("div"),u=qe("div"),p=qe("div"),v=qe("div"),f=qe("button"),h=qe("button"),g=qe("button"),x=qe("button"),b=qe("button"),w=qe("button"),y=qe("button"),k=qe("button"),T=ko(S,e.commentHex),H=qe("div"),C=qe("a"),N=bo(e.commenterHex+"-"+a.name);"undefined"!==a.link&&"https://undefined"!==a.link&&""!==a.link?((t=qe("a")).target="_blank",t.rel="nofollow noopener"):t=qe("div"),c.id=z+e.commentHex,u.id=j+e.commentHex,p.id=q+e.commentHex,l.id=Y+e.commentHex,d.id=_+e.commentHex,s.id=W+e.commentHex,v.id=F+e.commentHex,f.id=X+e.commentHex,h.id=G+e.commentHex,g.id=J+e.commentHex,x.id=K+e.commentHex,b.id=$+e.commentHex,w.id=Q+e.commentHex,y.id=Z+e.commentHex,k.id=ee+e.commentHex,T&&(T.id=oe+e.commentHex),H.id=te+e.commentHex,t.id=ne+e.commentHex,C.href="#commento-"+e.commentHex,C.innerText="permalink",C.onclick=function(){window.location.hash="#commento-"+e.commentHex,Io(),No()},g.title=Ze("Collapse children"),x.title=Ze("Upvote"),b.title=Ze("Downvote"),f.title=Ze("Edit"),h.title=Ze("Reply"),w.title=Ze("Approve"),y.title=Ze("Remove"),Ce===e.commentHex?k.title=Ze(ke?"Unsticky":"This comment has been stickied"):k.title=Ze("Sticky"),d.title=e.creationDate.toLocaleDateString(Ie),c.style.borderLeft="2px solid "+N,e.deleted?t.innerText=Ze("[deleted]"):t.innerText=a.name,p.innerHTML=e.html,d.innerHTML=(n=M,i=e.creationDate,r=2592e6,(i=n-i)<5e3?"just now":i<12e4?Math.round(i/1e3)+Ze(" seconds ago"):i<72e5?Math.round(i/6e4)+Ze(" minutes ago"):i<1728e5?Math.round(i/36e5)+Ze(" hours ago"):i<5184e6?Math.round(i/864e5)+Ze(" days ago"):i<62208e6?Math.round(i/r)+Ze(" months ago"):Math.round(i/31104e6)+Ze(" years ago")),s.innerText=wo(e.score),"undefined"===a.photo?((o=qe("div")).style.background=N,"anonymous"===e.commenterHex?(o.innerHTML="?",o.style["font-weight"]="bold"):(o.innerHTML=a.name[0].toUpperCase(),"[deleted]"===a.name&&(o.innerHTML="?")),ze(o,"avatar")):(Ge(o=qe("img"),"src",le+"/api/commenter/photo?commenterHex="+a.commenterHex),ze(o,"avatar-img")),ze(c,"card"),ke&&"approved"!==e.state&&ze(c,"dark-card"),"anon"===a.provider&&ze(t,"anonymous"),a.isModerator&&ze(t,"moderator"),"pending"===e.state&&ze(t,"pending"),"flagged"===e.state&&ze(t,"flagged"),xe[e.commentHex]&&(ze(c,"highlight"),delete xe[e.commentHex]),ze(m,"header"),ze(t,"name"),ze(C,"permalink"),ze(l,"subtitle"),ze(d,"timeago"),ze(s,"score"),ze(u,"body"),ze(v,"options"),De&&ze(v,"options-mobile"),ze(f,"option-button"),ze(f,"option-edit"),ze(h,"option-button"),ze(h,"option-reply"),ze(g,"option-button"),ze(g,"option-collapse"),ze(x,"option-button"),ze(x,"option-upvote"),ze(b,"option-button"),ze(b,"option-downvote"),ze(w,"option-button"),ze(w,"option-approve"),ze(y,"option-button"),ze(y,"option-remove"),ze(k,"option-button"),Ce===e.commentHex?ze(k,"option-unsticky"):ze(k,"option-sticky"),ve&&(0<e.direction?ze(x,"upvoted"):e.direction<0&&ze(b,"downvoted")),Fe(f,O.editShow,e.commentHex),Fe(g,O.commentCollapse,e.commentHex),Fe(w,O.commentApprove,e.commentHex),Fe(y,O.commentDelete,e.commentHex),Fe(k,O.commentSticky,e.commentHex);N=To(x,b,e.commentHex,e.direction),x=N[0],b=N[1];Fe(h,O.replyShow,e.commentHex),"undefined"!==a.link&&"https://undefined"!==a.link&&""!==a.link&&Ge(t,"href",a.link),T&&Ve(v,g),e.deleted||Te||He||(Ve(v,b),Ve(v,x)),e.commenterHex===Re?Ve(v,f):e.deleted||Te||He||Ve(v,h),!e.deleted&&ke&&"root"===A&&Ve(v,k),e.deleted||!ke&&e.commenterHex!==Re||Ve(v,y),ke&&"approved"!==e.state&&Ve(v,w),e.deleted||ke||Ce!==e.commentHex||Ve(v,k),Ge(v,"style","width: "+32*(v.childNodes.length+1)+"px;");for(var L=0;L<v.childNodes.length;L++)Ge(v.childNodes[L],"style","right: "+32*L+"px;");Ve(l,s),Ve(l,d),De||Ve(m,v),Ve(m,o),Ve(m,t),Ve(m,l),Ve(u,p),Ve(u,C),Ve(H,u),De&&(Ve(H,v),ze(u=qe("div"),"options-clearfix"),Ve(H,u)),T&&(ze(T,"body"),Ve(H,T)),Ve(c,m),Ve(c,H),e.deleted&&("true"===B||null===T)||Ve(E,c)}),0===E.childNodes.length?null:E}function To(e,o,t,n){return e=We(e),o=We(o),0<n?(Fe(e,O.vote,[t,[1,0]]),Fe(o,O.vote,[t,[1,-1]])):n<0?(Fe(e,O.vote,[t,[-1,1]]),Fe(o,O.vote,[t,[-1,0]])):(Fe(e,O.vote,[t,[0,1]]),Fe(o,O.vote,[t,[0,-1]])),[e,o]}function Ho(n){var e,o=Pe(b+n),i=o.value;""!==i?(je(o,"red-border"),e={commenterToken:eo(),commentHex:n,markdown:i},Je(me+"/api/comment/edit",e,function(e){var o,t;e.success?(mo(),Co(he),be[n].markdown=i,be[n].html=e.html,t=Pe(X+n),(o=Pe(k+n)).innerHTML=be[n].html,o.id=q+n,delete Le[n],xe[n]=!0,ze(t,"option-edit"),je(t,"option-cancel"),t.title=Ze("Edit comment"),Fe(t=We(t),O.editShow,n),t="","unapproved"===e.state?t=Ze("Your comment is under moderation."):"flagged"===e.state&&(t=Ze("Your comment was flagged as spam and is under moderation.")),""!==t&&co(t)):co(e.message)})):ze(o,"red-border")}function Co(e){var n={};return e.forEach(function(e,o){var t=e.parentHex;t in n||(n[t]=[]),e.creationDate=new Date(e.creationDate),n[t].push(e),be[e.commentHex]={html:e.html,markdown:e.markdown,index:o}}),n}function No(){var e=Pe(u),o=ko(be,"root");o&&Lo(e,o)}function Lo(e,o){for(var t in 0===e.children.length&&(e.innerHTML="<div></div>"),morphdom(e.children[0],o,{onBeforeNodeDiscarded:function(e){return!(-1<e.innerHTML.indexOf("textarea"))},onBeforeNodeAdded:function(e){return!(e.id.split("-")[3]in Le)&&e}}),Se)O.commentCollapse(t);for(var t in Ne)Ne[t]=!1,O.replyShow(t,!0);for(var t in Le)Le[t]=!1,O.editShow(t,!0)}function So(e){ve?O.commentNew(e,eo()):O.loginBoxShow(e)}function Ao(e){var o,t;ye?So(e):(t=Pe(w+e),""!==(o=Pe(b+e)).value.trim()?(je(o,"red-border"),t.checked||0!==Pe(P+e).value.trim().length?(t=e,O.commentNew(t,"anonymous")):So(e)):ze(o,"red-border"))}function Mo(e,o,t){Je(me+"/api/commenter/login",{email:e,password:o},function(e){return e.success?(mo(),Qe("commentoCommenterToken",e.commenterToken),no(e.commenter,e.email),Ro(),po(),Ye(Pe(l)),void(null!==t?O.commentNew(t,e.commenterToken,function(){O.loginBoxClose(),ao(No)}):(O.loginBoxClose(),ao(No)))):(O.loginBoxClose(),void co(e.message))})}function Eo(o){var e={isLocked:He,stickyCommentHex:Ce},e={commenterToken:eo(),domain:parent.location.host,path:se,attributes:e};Je(me+"/api/page/update",e,function(e){e.success?(mo(),$e(o)):co(e.message)})}function Oo(){var e=qe("div"),o=qe("button");e.id=r,o.id=t,ze(e,"mod-tools"),o.innerHTML=Ze(He?"Unlock Thread":"Lock Thread"),Fe(o,O.threadLockToggle),Ge(e,"style","display: none"),Ve(e,o),Ve(de,e)}function Bo(){void 0===n?Ro():ro(n,Ro)}function Ro(){var e=Pe(m),o=Pe(r),t=Pe(s);Ge(e,"style",""),ke&&Ge(o,"style",""),t&&Ge(t,"style","")}function Do(){for(var e,o=p.getElementsByTagName("script"),t=0;t<o.length;t++)o[t].src.match(/\/js\/commento\.js$/)&&(void 0!==(e=_e(o[t],"data-page-id"))&&(se=e),n=_e(o[t],"data-css-override"),i=_e(o[t],"data-auto-init"),ue=_e(o[t],"data-no-websockets"),pe=_e(o[t],"data-no-livereload"),void 0===(c=_e(o[t],"data-id-root"))&&(c="commento"),a=_e(o[t],"data-no-fonts"),B=_e(o[t],"data-hide-deleted"),void 0!==(e=_e(o[t],"data-locale"))&&(Ie=e))}function Io(){var e,o;window.location.hash&&(window.location.hash.startsWith("#commento-")?(e="",e=window.location.hash.startsWith("#commento-comment-card")?window.location.hash.split("-")[3]:window.location.hash.split("-")[1],null!==(o=Pe(z+e))?(ze(o,"highlight"),o.scrollIntoView({behavior:"smooth"})):64===e.length&&co("The comment you're looking for no longer exists or was deleted.")):window.location.hash.startsWith("#commento")&&de.scrollIntoView({behavior:"smooth"}))}function o(e){de.innerHTML="",Ne={},Le={},O.main(e)}function Uo(){(e=me.split(":"))[0]="https:"===location.protocol?"wss":"ws";var e=e.join(":"),o=new WebSocket(e+"/ws");o.onopen=function(){o.send(parent.location.host+se)},o.onmessage=function(){window.document.title="(*) "+ce,ao(No,!0)},o.onclose=function(e){console.log("Socket is closed. Reconnect will be attempted with an exponential backoff.",e.reason),setTimeout(Uo,1e3)},o.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),o.close()}}function Po(){function o(){window.document.title=ce}e||(Do(),pe||(window.WebSocket&&!ue?(Uo(),window.setInterval(function(){No()},6e4)):window.setInterval(function(){ao(No,!0)},5e3),["mousedown","mousemove","keydown","scroll","touchstart"].forEach(function(e){p.addEventListener(e,o,!0)})),e=!0,function(t){if(Ie&&LOCALES){for(var e,o=0;o<LOCALES.length;o++){if(Ie===LOCALES[o]){e=Ie;break}e||Ie.substring(0,2)!==LOCALES[o]||(e=LOCALES[o])}e?Ke(le+"/i18n/"+e+".json",function(e){for(var o in e)o in Ue||(Ue[o]=e[o]);$e(t)}):$e(t)}else $e(t)}(function(){"true"===i||void 0===i?O.main(void 0):"false"!==i&&console.log("[commento] error: invalid value for data-auto-init; allowed values: true, false")}))}O.commentApprove=function(i){var e={commenterToken:eo(),commentHex:i};Je(me+"/api/comment/approve",e,function(e){var o,t,n;e.success?(mo(),o=Pe(z+i),t=Pe(ne+i),n=Pe(Q+i),je(o,"dark-card"),je(t,"flagged"),Ye(n)):co(e.message)})},O.commentDelete=function(t){var e;confirm(Ze("Are you sure you want to delete this comment?"))&&(e={commenterToken:eo(),commentHex:t},Je(me+"/api/comment/delete",e,function(e){var o;e.success?(mo(),(o=Pe(z+t)).parentNode.removeChild(o),delete be[t]):co(e.message)}))},O.vote=function(e){if(ve){var o,t=e[0],n=e[1][0],i=e[1][1],r=Pe(K+t),a=Pe($+t),c=Pe(W+t),m={commenterToken:eo(),commentHex:t,direction:i},e=To(r,a,t,i),r=e[0],a=e[1];for(o in je(r,"upvoted"),je(a,"downvoted"),0<i?ze(r,"upvoted"):i<0&&ze(a,"downvoted"),c.innerText=wo(parseInt(c.innerText.replace(/[^\d-.]/g,""))+i-n),he)he[o].commentHex===t&&(he[o].score=he[o].score+i-n);be=Co(he),No(),Je(me+"/api/comment/vote",m,function(e){e.success?mo():(co(e.message),je(r,"upvoted"),je(a,"downvoted"),c.innerText=wo(parseInt(c.innerText.replace(/[^\d-.]/g,""))-i+n),To(r,a,t,n))})}else O.loginBoxShow(null)},O.editShow=function(e,o){var t,n;e in Le&&Le[e]||(t=Pe(q+e),Le[e]=!0,o||(t.replaceWith(vo(e,!0)),n=Pe(b+e),Co(he),n.value=be[e].markdown),je(n=Pe(X+e),"option-edit"),ze(n,"option-cancel"),n.title=Ze("Cancel edit"),Fe(n=We(n),O.editCollapse,e))},O.editCollapse=function(e){var o=Pe(X+e),t=Pe(k+e);t.innerHTML=be[e].html,t.id=q+e,delete Le[e],ze(o,"option-edit"),je(o,"option-cancel"),o.title=Ze("Edit comment"),Fe(o=We(o),O.editShow,e)},O.replyShow=function(e,o){var t,n;e in Ne&&Ne[e]||(t=Pe(q+e),o||(n=t,t=vo(e),n.parentNode.insertBefore(t,n.nextSibling)),Ne[e]=!0,je(n=Pe(G+e),"option-reply"),ze(n,"option-cancel"),n.title=Ze("Cancel reply"),Fe(n=We(n),O.replyCollapse,e))},O.replyCollapse=function(e){var o=Pe(G+e),t=Pe(k+e);t?(t.remove(),delete Ne[e],ze(o,"option-reply"),je(o,"option-cancel"),o.title=Ze("Reply to this comment"),Fe(o=We(o),O.replyShow,e)):O.replyShow(e)},O.commentCollapse=function(e){var o=Pe(oe+e),t=Pe(J+e);Se[e]=!0,o&&ze(o,"hidden"),je(t,"option-collapse"),ze(t,"option-uncollapse"),t.title=Ze("Expand children"),Fe(t=We(t),O.commentUncollapse,e)},O.commentUncollapse=function(e){var o=Pe(oe+e),t=Pe(J+e);delete Se[e],o&&je(o,"hidden"),je(t,"option-uncollapse"),ze(t,"option-collapse"),t.title=Ze("Collapse children"),Fe(t=We(t),O.commentCollapse,e)},O.commentoAuth=function(e){var t=e.provider,n=e.id,i=window.open("","_blank");Ke(me+"/api/commenter/token/new",function(o){var e;o.success?(mo(),Qe("commentoCommenterToken",o.commenterToken),i.location=me+"/api/oauth/"+t+"/redirect?commenterToken="+o.commenterToken,e=setInterval(function(){i.closed&&(clearInterval(e),io(function(){var e=Pe(s);e&&Ge(e,"style",""),"anonymous"!==eo()&&(Ye(Pe(l)),po()),null!==n?O.commentNew(n,o.commenterToken,function(){O.loginBoxClose(),ao(No)}):(O.loginBoxClose(),ao(No))}))},250)):co(o.message)})},O.nextInput=function(n,i){return function(e){var o=Array.prototype.slice.call(p.querySelectorAll(".commento-input")),t=o.indexOf(n);t>=o.length-1?i(e):(console.log(o[t+1]),o[t+1].focus())}},O.popupRender=function(t){var e=Pe(T),o=qe("div"),n=qe("div"),i=qe("div"),r=qe("div"),a=qe("hr"),c=qe("div"),m=qe("div"),l=qe("div"),d=qe("hr"),s=qe("div"),u=qe("div"),p=qe("div"),v=qe("input"),f=qe("button"),h=qe("div"),g=qe("a"),x=qe("div"),b=qe("a"),w=qe("div");o.id=H,s.id=C,v.id=N,f.id=L,h.id=S,x.id=A,i.id=E,n.id=M,a.id=R,c.id=D,m.id=I,d.id=U,ze(e,"login-box-container"),ze(o,"login-box"),ze(s,"login-box-subtitle"),ze(u,"email-container"),ze(p,"email"),ze(v,"input"),ze(f,"email-button"),ze(h,"forgot-link-container"),ze(g,"forgot-link"),ze(x,"login-link-container"),ze(b,"login-link"),ze(n,"login-box-subtitle"),ze(i,"oauth-buttons-container"),ze(r,"oauth-buttons"),ze(c,"login-box-subtitle"),ze(m,"oauth-buttons-container"),ze(l,"oauth-buttons"),ze(w,"login-box-close"),ze(de,"root-min-height"),g.innerText=Ze("Forgot your password?"),b.innerText=Ze("Don't have an account? Sign up."),s.innerText=Ze("Login with your email address"),f.innerText=Ze("Continue"),c.innerText=Ze("Proceed with social login"),n.innerText=Ze("Proceed with ")+parent.location.host+Ze(" authentication"),Fe(f,O.passwordAsk,t),Xe(v,O.nextInput(v,O.passwordAsk),t),Fe(g,O.forgotPassword,t),Fe(b,O.popupSwitch,t),Fe(w,O.loginBoxClose),Ge(e,"style","display: none; opacity: 0;"),Ge(v,"name","email"),Ge(v,"placeholder",Ze("Email address")),Ge(v,"type","text");var y,k=0;["google","twitter","github","gitlab"].forEach(function(e){var o;Ae[e]&&(ze(o=qe("button"),"button"),ze(o,e+"-button"),o.innerText=e,Fe(o,O.commentoAuth,{provider:e,id:t}),Ve(l,o),k++)}),Ae.sso&&(ze(y=qe("button"),"button"),ze(y,"sso-button"),y.innerText=Ze("Single Sign-On"),Fe(y,O.commentoAuth,{provider:"sso",id:t}),Ve(r,y),Ve(i,r),Ve(o,n),Ve(o,i),(0<k||Ae.commento)&&Ve(o,a)),Oe=0<k&&(Ve(o,c),Ve(m,l),Ve(o,m),!0),Ve(p,v),Ve(p,f),Ve(u,p),Ve(h,g),Ve(x,b),0<k&&Ae.commento&&Ve(o,d),Ae.commento&&(Ve(o,s),Ve(o,u),Ve(o,h),Ve(o,x)),Ve(o,w),Ee="login",e.innerHTML="",Ve(e,o)},O.forgotPassword=function(){window.open("","_blank").location=me+"/forgot?commenter=true",O.loginBoxClose()},O.popupSwitch=function(e){var o=Pe(C);Oe&&(Ye(Pe(I)),Ye(Pe(D)),Ye(Pe(R)),Ye(Pe(U))),Ae.sso&&(Ye(Pe(E)),Ye(Pe(M)),Ye(Pe(R)),Ye(Pe(U))),Ye(Pe(A)),Ye(Pe(S)),o.innerText=Ze("Create an account"),Ee="signup",O.passwordAsk(e)},O.login=function(e){var o=Pe(N),t=Pe(v);Mo(o.value,t.value,e)},O.signup=function(o){var t=Pe(N),e=Pe(f),n=Pe(h),i=Pe(v),n={email:t.value,name:e.value,website:n.value,password:i.value};Je(me+"/api/commenter/new",n,function(e){return e.success?(mo(),void Mo(t.value,i.value,o)):(O.loginBoxClose(),void co(e.message))})},O.passwordAsk=function(e){var o,t,n,i,r=Pe(H),a=Pe(C);Ye(Pe(L)),Ye(Pe(A)),Ye(Pe(S)),Oe&&0<Ae.length&&(Ye(Pe(R)),Ye(Pe(U)),Ye(Pe(D)),Ye(Pe(I))),i="signup"===Ee?(o=["name","website","password"],t=[f,h,v],n=["text","text","password"],[Ze("Real Name"),Ze("Website (Optional)"),Ze("Password")]):(o=["password"],t=[v],n=["password"],[Ze("Password")]),a.innerText=Ze("signup"===Ee?"Finish the rest of your profile to complete.":"Enter your password to log in.");for(var c=0;c<o.length;c++){var m,l=qe("div"),d=qe("div"),s=qe("input");s.id=t[c],ze(l,"email-container"),ze(d,"email"),ze(s,"input"),Ge(s,"name",o[c]),Ge(s,"type",n[c]),Ge(s,"placeholder",i[c]),"website"===o[c]&&Ge(s,"autocomplete","false"),Ve(d,s),Ve(l,d),"password"===o[c]?(ze(m=qe("button"),"email-button"),"signup"===(m.innerText=Ee)?(Fe(m,O.signup,e),Xe(s,O.signup,e)):(Fe(m,O.login,e),Xe(s,O.login,e)),Ve(d,m)):Xe(s,O.nextInput(s,null),e),Ve(r,l)}for(var u=Array.prototype.slice.call(p.querySelectorAll(".commento-input")),c=0;c<u.length;c++)if(""===u[c].value.trim()){u[c].focus();break}},O.threadLockToggle=function(){var e=Pe(t);He=!He,e.disabled=!0,Eo(function(){e.disabled=!1,o(No)})},O.commentSticky=function(o){var e;"none"!==Ce&&(je(e=Pe(ee+Ce),"option-unsticky"),ze(e,"option-sticky")),Ce=Ce===o?"none":o,Eo(function(){var e=Pe(ee+o);Ce===o?(je(e,"option-sticky"),ze(e,"option-unsticky")):(je(e,"option-unsticky"),ze(e,"option-sticky"))})},O.loginBoxClose=function(){var e=Pe(m),o=Pe(T);je(e,"blurred"),je(de,"root-min-height"),Ge(o,"style","display: none")},O.loginBoxShow=function(e){var o=Pe(m),t=Pe(T);O.popupRender(e),ze(o,"blurred"),Ge(t,"style",""),Pe(T).scrollIntoView({behavior:"smooth"})},O.main=function(e){var o,t,n,i,r;null!==(de=Pe(c))?(null===De&&(De=de.getBoundingClientRect().width<450),ze(de,"root"),"true"!==a&&ze(de,"root-font"),(n=qe("div")).id=T,Ve(de,n),(i=qe("div")).id=d,ze(i,"error-box"),Ge(i,"style","display: none;"),Ve(de,i),(r=qe("div")).id=m,ze(r,"main-area"),Ge(r,"style","display: none"),Ve(de,r),Oo(),t=qe("div"),n=qe("div"),i=qe("a"),r=qe("span"),t.id="commento-footer",ze(t,"footer"),ze(n,"logo-container"),ze(i,"logo"),ze(r,"logo-text"),Ge(i,"href","https://github.com/souramoo/commentoplusplus"),Ge(i,"target","_blank"),r.innerText="Commento++",Ve(i,r),Ve(n,i),Ve(t,n),o=t,ro(le+"/css/commento.css",Bo),io(function(){ao(function(){Oo(),go(function(){No(),Ve(de,o),Io(),Ro(),function(){for(var e=p.getElementsByClassName("commento-name"),o=0;o<e.length;o++)Ge(e[o],"style","max-width: "+(e[o].getBoundingClientRect().width+20)+"px;")}(),$e(e)})})})):console.log("[commento] error: no root element with ID '"+c+"' found")},O.reInit=function(e){se=e.pageId||se,c=e.idRoot||c,a=e.noFonts||a,B=e.hideDeleted||B,n=e.cssOverride||n,null===e.cssOverride&&(n=void 0),o()};var Vo=function(){var e=p.readyState;"loading"===e?p.addEventListener("readystatechange",Vo):"interactive"!==e&&"complete"!==e||Po()};Vo()}(window.commento,document),function(){"use strict";var i;var H="http://www.w3.org/1999/xhtml",C="undefined"==typeof document?void 0:document,r=!!C&&"content"in C.createElement("template"),a=!!C&&C.createRange&&"createContextualFragment"in C.createRange();function N(e){return e=e.trim(),r?(o=e,(t=C.createElement("template")).innerHTML=o,t.content.childNodes[0]):a?(n=e,i||(i=C.createRange()).selectNode(C.body),i.createContextualFragment(n).childNodes[0]):(n=e,(e=C.createElement("body")).innerHTML=n,e.childNodes[0]);var o,t,n}function L(e,o){var t=e.nodeName,n=o.nodeName;return t===n||(e=t.charCodeAt(0),o=n.charCodeAt(0),e<=90&&97<=o?t===n.toUpperCase():o<=90&&97<=e&&n===t.toUpperCase())}function c(e,o,t){e[t]!==o[t]&&(e[t]=o[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t))}var S,A={OPTION:function(e,o){var t,n=e.parentNode;n&&("SELECT"!==(t="OPTGROUP"===(t=n.nodeName.toUpperCase())?(n=n.parentNode)&&n.nodeName.toUpperCase():t)||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!o.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)),c(e,o,"selected")},INPUT:function(e,o){c(e,o,"checked"),c(e,o,"disabled"),e.value!==o.value&&(e.value=o.value),o.hasAttribute("value")||e.removeAttribute("value")},tEXTAREA:function(e,o){var t=o.value;e.value!==t&&(e.value=t);var n=e.firstChild;n&&((o=n.nodeValue)===t||!t&&o===e.placeholder||(n.nodeValue=t))},SELECT:function(e,o){if(!o.hasAttribute("multiple")){for(var t,n,i=-1,r=0,a=e.firstChild;a;)if("OPTGROUP"===(n=a.nodeName&&a.nodeName.toUpperCase()))a=(t=a).firstChild;else{if("OPTION"===n){if(a.hasAttribute("selected")){i=r;break}r++}!(a=a.nextSibling)&&t&&(a=t.nextSibling,t=null)}e.selectedIndex=i}}};function M(){}function E(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}window.morphdom=(S=function(e,o){var t,n,i,r,a=o.attributes;if(11!==o.nodeType&&11!==e.nodeType){for(var c=a.length-1;0<=c;c--)n=(t=a[c]).name,i=t.namespaceURI,r=t.value,i?(n=t.localName||n,e.getAttributeNS(i,n)!==r&&("xmlns"===t.prefix&&(n=t.name),e.setAttributeNS(i,n,r))):e.getAttribute(n)!==r&&e.setAttribute(n,r);for(var m=e.attributes,l=m.length-1;0<=l;l--)n=(t=m[l]).name,(i=t.namespaceURI)?(n=t.localName||n,o.hasAttributeNS(i,n)||e.removeAttributeNS(i,n)):o.hasAttribute(n)||e.removeAttribute(n)}},function(e,o,t){t=t||{},"string"==typeof o&&("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName?(d=o,(o=C.createElement("html")).innerHTML=d):o=N(o));var p=t.getNodeKey||E,v=t.onBeforeNodeAdded||M,f=t.onNodeAdded||M,i=t.onBeforeElUpdated||M,r=t.onElUpdated||M,n=t.onBeforeNodeDiscarded||M,a=t.onNodeDiscarded||M,c=t.onBeforeElChildrenUpdated||M,m=!0===t.childrenOnly,h=Object.create(null),l=[];function g(e){l.push(e)}function x(e,o,t){!1!==n(e)&&(o&&o.removeChild(e),a(e),function e(o,t){if(1===o.nodeType)for(var n=o.firstChild;n;){var i=void 0;t&&(i=p(n))?g(i):(a(n),n.firstChild&&e(n,t)),n=n.nextSibling}}(e,t))}function b(e,o,t){var n=p(o);if(n&&delete h[n],!t){if(!1===i(e,o))return;if(S(e,o),r(e),!1===c(e,o))return}"TEXTAREA"!==e.nodeName?function(e,o){var t,n,i,r,a,c=o.firstChild,m=e.firstChild;e:for(;c;){for(r=c.nextSibling,t=p(c);m;){if(i=m.nextSibling,c.isSameNode&&c.isSameNode(m)){c=r,m=i;continue e}n=p(m);var l=m.nodeType,d=void 0;if(l===c.nodeType&&(1===l?(t?t!==n&&(!(a=h[t])||i===a?d=!1:(e.insertBefore(a,m),n?g(n):x(m,e,!0),m=a)):n&&(d=!1),(d=!1!==d&&L(m,c))&&b(m,c)):3!==l&&8!==l||(d=!0,m.nodeValue!==c.nodeValue&&(m.nodeValue=c.nodeValue))),d){c=r,m=i;continue e}n?g(n):x(m,e,!0),m=i}var s;t&&(a=h[t])&&L(a,c)?(e.appendChild(a),b(a,c)):!1!==(s=v(c))&&((c=s?s:c).actualize&&(c=c.actualize(e.ownerDocument||C)),e.appendChild(c),function e(o){f(o);for(var t=o.firstChild;t;){var n,i=t.nextSibling,r=p(t);r&&(n=h[r])&&L(t,n)?(t.parentNode.replaceChild(n,t),b(n,t)):e(t),t=i}}(c)),c=r,m=i}!function(e,o,t){for(;o;){var n=o.nextSibling;(t=p(o))?g(t):x(o,e,!0),o=n}}(e,m);var u=A[e.nodeName];u&&u(e,o)}(e,o):A.tEXTAREA(e,o)}!function e(o){if(1===o.nodeType||11===o.nodeType)for(var t=o.firstChild;t;){var n=p(t);n&&(h[n]=t),e(t),t=t.nextSibling}}(e);var d,s=e,u=s.nodeType,w=o.nodeType;if(!m)if(1===u)1===w?L(e,o)||(a(e),s=function(e,o){for(var t=e.firstChild;t;){var n=t.nextSibling;o.appendChild(t),t=n}return o}(e,(d=o.nodeName,(t=o.namespaceURI)&&t!==H?C.createElementNS(t,d):C.createElement(d)))):s=o;else if(3===u||8===u){if(w===u)return s.nodeValue!==o.nodeValue&&(s.nodeValue=o.nodeValue),s;s=o}if(s===o)a(e);else{if(o.isSameNode&&o.isSameNode(s))return;if(b(s,o,m),l)for(var y=0,k=l.length;y<k;y++){var T=h[l[y]];T&&x(T,T.parentNode,!1)}}return!m&&s!==e&&e.parentNode&&(s.actualize&&(s=s.actualize(e.ownerDocument||C)),e.parentNode.replaceChild(s,e)),s})}();